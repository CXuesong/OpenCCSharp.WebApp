{"version":3,"file":"15.index.js","mappings":"oHAAA,IAAIA,EAEGC,eAAeC,IACpB,MAAM,KAAEC,EAAI,cAAEC,EAAa,WAAEC,SAAqB,kCAClD,OAAQD,KACN,KAAKC,EAAWC,QACd,OAAON,EAAc,WACnB,UACQG,I,QAENH,OAAcO,IAJG,GAOvB,KAAKF,EAAWG,OACd,OACF,QACE,OAAOR,GAMNC,eAAeQ,EAAeC,EAAaC,EAAgCC,SAC1EV,IACN,MAAM,YAAEW,SAAsB,kCAC9B,aAAaA,EAAYC,OAAOC,QAAQC,qBAAqBN,EAAKC,EAAMC,GAGnEX,eAAegB,UACdf,IACN,MAAM,YAAEW,SAAsB,kCAC9B,OAAOA,EAAYC,OAAOC,QAAQG,oB","sources":["webpack://OpenCCSharp.WebApp/./src/services/conversion.ts"],"sourcesContent":["let bootPromise: Promise<void> | undefined;\n\nexport async function ensureInitialized() {\n  const { boot, getBootStatus, BootStatus } = await import(\"managed/dotnet\");\n  switch (getBootStatus()) {\n    case BootStatus.Standby:\n      return bootPromise = (async () => {\n        try {\n          await boot();\n        } finally {\n          bootPromise = undefined;\n        }\n      })();\n    case BootStatus.Booted:\n      return;\n    default:\n      return bootPromise!;\n  }\n}\n\nexport type ChineseConversionVariant = \"Hans\" | \"Hant\" | \"Hani\" | \"HK\" | \"TW\";\n\nexport async function convertVariant(str: string, from: ChineseConversionVariant, to: ChineseConversionVariant): Promise<string> {\n  await ensureInitialized();\n  const { OpenCCSharp } = await import(\"managed/dotnet\");\n  return await OpenCCSharp.WebApp.Managed.ConvertStringVariant(str, from, to);\n}\n\nexport async function getManagedLibVersions(): Promise<Record<string, string>> {\n  await ensureInitialized();\n  const { OpenCCSharp } = await import(\"managed/dotnet\");\n  return OpenCCSharp.WebApp.Managed.GetVersionNumbers();\n}\n"],"names":["bootPromise","async","ensureInitialized","boot","getBootStatus","BootStatus","Standby","undefined","Booted","convertVariant","str","from","to","OpenCCSharp","WebApp","Managed","ConvertStringVariant","getManagedLibVersions","GetVersionNumbers"],"sourceRoot":""}